# 비즈니스 로직 및 기능 동작 (Product Context)

## 1. 핵심 비즈니스 로직  
- **데이터 저장 규칙**: 모든 데이터는 JSON 형식으로 GitHub Repository의 `data/` 폴더에 저장
- **데이터 동기화**: GitHub가 소스 오브 트루스, 로컬은 폴백 저장소
- **파일 크기 제한**: 최대 10MB (업로드 및 저장 시 검증)
- **데이터 검증**: JSON 형식 검증 필수, 필수 필드 검증 (선택적)

## 2. 주요 기능별 동작 시나리오  

### [기능 1: 통합 대시보드]
1. 사용자가 "통합 대시보드" 페이지 접근
2. `load_data("dashboard_data.json")` 호출
3. GitHub에서 데이터 로드 시도 (실패 시 로컬 폴백)
4. KPI 메트릭 표시 (재학생 수, 파트너 수, 취업률)
5. Plotly Pie Chart로 지역별 재학생 분포 시각화
6. Plotly Bar Chart로 MOU 파트너 현황 시각화

### [기능 2: 주간보고 AI 챗봇]
1. 사용자가 채팅 입력창에 키워드 입력
2. `search_reports()` 함수로 키워드 매칭 검색
3. 점수 기반 정렬 (부서명 10점, 이슈 8점, 요약 5점)
4. 검색 결과를 채팅 메시지로 표시
5. 세션 상태에 대화 히스토리 저장

### [기능 3: 스마트 일정 관리]
1. 사용자가 직원 선택 (복수 선택 가능)
2. 선택된 직원의 일정 데이터 필터링
3. 날짜별로 그룹화
4. 선택한 날짜의 일정 테이블 표시
5. 여러 직원 선택 시 공통 빈 시간 계산 및 표시

### [기능 4: 직원 추천 시스템]
1. 사용자가 키워드 입력 (전문성, 관심사, 부서명)
2. `search_staff()` 함수로 키워드 매칭 검색
3. 점수 기반 정렬 (부서명 10점, 전문성 8점, 관심사 5점)
4. 2열 그리드로 프로필 카드 표시
5. 부서별 필터링 옵션 제공

### [기능 5: 기관평가 코칭]
1. 사용자가 평가 카테고리 선택
2. 카테고리별 평가 항목 필터링
3. 각 항목의 가이드라인과 전년도 피드백을 2열 레이아웃으로 표시
4. 통계 정보 표시 (전체 항목 수, 카테고리 수 등)

### [기능 6: 명함 공유 허브]
1. 사용자가 검색어 입력 (기관명, 담당자명, 이력)
2. `search_cards()` 함수로 키워드 매칭 검색
3. 점수 기반 정렬 (기관명 10점, 담당자명 8점, 이력 6점)
4. 결과를 테이블 형식으로 표시
5. 상세 정보는 Expander로 접을 수 있게 표시

### [기능 7: 데이터 관리 (Admin)]
1. 사용자가 JSON 파일 업로드
2. 파일 크기 검증 (10MB 제한)
3. JSON 형식 검증
4. 파일 미리보기 및 데이터 정보 표시
5. "GitHub에 저장하기" 버튼 클릭
6. `save_data()` 함수로 GitHub에 커밋 및 푸시
7. 성공/실패 피드백 표시

## 3. 데이터 구조
- **dashboard_data.json**: KPI, 지역별 재학생, MOU 파트너
- **weekly_reports.json**: 주간보고서 배열 (날짜, 부서, 요약, 이슈)
- **schedules.json**: 일정 배열 (직원명, 날짜, 시간대, 이벤트)
- **staff_profiles.json**: 직원 프로필 배열 (이름, 부서, 전문성, 관심사, 이메일)
- **evaluation_manual.json**: 평가 매뉴얼 배열 (카테고리, 기준, 가이드라인, 피드백)
- **business_cards.json**: 명함 배열 (이름, 기관, 직책, 연락처, 이력)
