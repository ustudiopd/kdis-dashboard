# KDI 스마트 행정 플랫폼 - 디자인 및 레이아웃 보고서

**작성일**: 2024-12-08  
**버전**: 1.0  
**프레임워크**: Streamlit 1.50.0

---

## 📋 목차

1. [전체 개요](#전체-개요)
2. [페이지 구조](#페이지-구조)
3. [디자인 시스템](#디자인-시스템)
4. [레이아웃 패턴](#레이아웃-패턴)
5. [컴포넌트 분석](#컴포넌트-분석)
6. [일관성 평가](#일관성-평가)
7. [개선 제안](#개선-제안)

---

## 1. 전체 개요

### 1.1 아키텍처
- **프레임워크**: Streamlit Multi-page Application
- **레이아웃 모드**: Wide (모든 페이지)
- **사이드바**: Expanded (기본 상태)
- **페이지 수**: 8개 (메인 + 7개 기능 페이지)

### 1.2 기술 스택
- **UI 프레임워크**: Streamlit (기본 컴포넌트)
- **차트 라이브러리**: Plotly Express
- **데이터 처리**: Pandas
- **스타일링**: Streamlit 기본 스타일 (커스텀 CSS 없음)

---

## 2. 페이지 구조

### 2.1 메인 페이지 (`main.py`)

**구조:**
```
- 사이드바
  - 제목 (이모지 + 텍스트)
  - 구분선
  - 메뉴 안내 (info 박스)
  - 주요 기능 목록 (마크다운)
  - 구분선
  - 정보 섹션

- 메인 콘텐츠
  - 제목
  - 환영 메시지
  - 정보 박스 (기능 설명)
  - 구분선
  - 저작권 표시
```

**특징:**
- ❌ 데이터 표시 없음
- ❌ 시각적 요소 부족
- ❌ 인터랙티브 요소 없음
- ✅ 간단하고 명확한 구조

### 2.2 기능 페이지들

#### 페이지 0: Admin (데이터 관리)
**구조:**
- 파일 업로드 섹션
- 2열 레이아웃 (미리보기 + 정보)
- GitHub 저장 버튼
- 데이터 파일 목록 (Expander)

**사용 컴포넌트:**
- `st.file_uploader`
- `st.json`
- `st.metric`
- `st.button`
- `st.expander`

#### 페이지 1: 통합 대시보드
**구조:**
- KPI 메트릭 (3열)
- Pie Chart (Plotly)
- Bar Chart (Plotly)
- 데이터 테이블 (Expander)

**사용 컴포넌트:**
- `st.metric`
- `st.plotly_chart`
- `st.dataframe`
- `st.expander`

#### 페이지 2: 주간보고 AI 챗봇
**구조:**
- 채팅 인터페이스 (`st.chat_message`)
- 채팅 입력 (`st.chat_input`)
- 최근 보고서 목록 (Expander)

**사용 컴포넌트:**
- `st.chat_message`
- `st.chat_input`
- `st.expander`
- `st.session_state`

#### 페이지 3: 스마트 일정 관리
**구조:**
- 직원 선택 (Multiselect)
- 날짜 선택 (Selectbox)
- 일정 테이블
- 공통 빈 시간 (동적 컬럼)
- 전체 일정 요약

**사용 컴포넌트:**
- `st.multiselect`
- `st.selectbox`
- `st.dataframe`
- `st.metric` (동적 컬럼)
- `st.columns`

#### 페이지 4: 직원 추천 시스템
**구조:**
- 검색 입력
- 프로필 카드 (2열 그리드)
- 부서별 필터

**사용 컴포넌트:**
- `st.text_input`
- `st.columns` (2열)
- `st.expander`
- `st.selectbox`

#### 페이지 5: 기관평가 코칭
**구조:**
- 카테고리 선택
- 평가 항목 (2열 레이아웃)
- 통계 메트릭 (3열)

**사용 컴포넌트:**
- `st.selectbox`
- `st.columns` (2열, 3열)
- `st.expander`
- `st.metric`
- `st.info`, `st.warning`

#### 페이지 6: 명함 공유 허브
**구조:**
- 검색 입력
- 결과 테이블
- 상세 정보 (Expander)
- 통계 (2열)

**사용 컴포넌트:**
- `st.text_input`
- `st.dataframe`
- `st.expander`
- `st.columns`
- `st.metric`

---

## 3. 디자인 시스템

### 3.1 색상 팔레트
- **기본 색상**: Streamlit 기본 테마 (라이트/다크 모드 지원)
- **커스텀 색상**: 없음
- **차트 색상**: Plotly 기본 팔레트
  - Pie Chart: `qualitative.Set3`
  - Bar Chart: `qualitative.Pastel`

### 3.2 타이포그래피
- **제목**: `st.title` (H1)
- **섹션 헤더**: `st.header` (H2)
- **서브헤더**: `st.subheader` (H3)
- **본문**: `st.markdown` (일반 텍스트)
- **캡션**: `st.caption`

### 3.3 아이콘/이모지 사용
모든 페이지에서 이모지를 제목과 섹션에 사용:
- 🏛️ 메인
- 📊 통합 대시보드
- 🤖 주간보고 AI 챗봇
- 📅 스마트 일정 관리
- 👥 직원 추천 시스템
- 📋 기관평가 코칭
- 💼 명함 공유 허브
- 🔧 Admin

### 3.4 간격 및 레이아웃
- **구분선**: `st.markdown("---")` 사용
- **컬럼 레이아웃**: `st.columns()` 사용
  - 2열: 프로필 카드, 상세 정보
  - 3열: KPI 메트릭
  - 동적 컬럼: 공통 빈 시간 표시
- **컨테이너**: `st.container()` 사용 (일부 페이지)

---

## 4. 레이아웃 패턴

### 4.1 공통 패턴

#### 패턴 1: 제목 → 헤더 → 콘텐츠 → 구분선
```
st.title()
st.header()
[콘텐츠]
st.markdown("---")
```

#### 패턴 2: 검색 → 결과 표시
```
st.text_input()
[검색 로직]
st.info() / st.warning()
[결과 표시]
```

#### 패턴 3: 선택 → 필터링 → 결과
```
st.selectbox() / st.multiselect()
[필터링 로직]
[필터링된 결과 표시]
```

### 4.2 레이아웃 타입

1. **단일 컬럼 레이아웃**
   - 메인 페이지
   - 주간보고 챗봇

2. **2열 레이아웃**
   - Admin (미리보기 + 정보)
   - 직원 추천 (프로필 카드)
   - 기관평가 (가이드라인 + 피드백)
   - 명함 공유 (통계)

3. **3열 레이아웃**
   - 통합 대시보드 (KPI)
   - 기관평가 (통계)

4. **동적 컬럼 레이아웃**
   - 스마트 일정 관리 (공통 빈 시간)

---

## 5. 컴포넌트 분석

### 5.1 사용 빈도가 높은 컴포넌트

| 컴포넌트 | 사용 페이지 수 | 용도 |
|---------|--------------|------|
| `st.title` | 8/8 | 페이지 제목 |
| `st.header` | 8/8 | 섹션 헤더 |
| `st.markdown` | 8/8 | 텍스트, 구분선 |
| `st.columns` | 6/8 | 레이아웃 구성 |
| `st.expander` | 5/8 | 접을 수 있는 콘텐츠 |
| `st.dataframe` | 4/8 | 테이블 표시 |
| `st.metric` | 4/8 | 수치 표시 |
| `st.info` | 6/8 | 정보 메시지 |
| `st.error` | 8/8 | 에러 메시지 |

### 5.2 특수 컴포넌트

- **`st.chat_message`**: 주간보고 챗봇 (유일)
- **`st.chat_input`**: 주간보고 챗봇 (유일)
- **`st.plotly_chart`**: 통합 대시보드 (유일)
- **`st.file_uploader`**: Admin (유일)
- **`st.json`**: Admin (유일)
- **`st.balloons`**: Admin (성공 시)

### 5.3 상태 관리
- **`st.session_state`**: 주간보고 챗봇에서 채팅 히스토리 관리

---

## 6. 일관성 평가

### 6.1 강점 ✅

1. **일관된 페이지 구조**
   - 모든 페이지에서 `st.title()` → `st.header()` 패턴 사용
   - 구분선(`---`) 사용이 일관적

2. **통일된 에러 처리**
   - 모든 페이지에서 동일한 에러 메시지 패턴
   - `st.error()` + `st.stop()` 패턴

3. **명확한 네비게이션**
   - 사이드바에서 자동 페이지 메뉴 생성
   - 이모지를 통한 시각적 구분

4. **데이터 로딩 패턴**
   - 모든 페이지에서 `load_data()` 함수 사용
   - 일관된 에러 처리

### 6.2 개선 필요 영역 ⚠️

1. **메인 페이지의 기능 부족**
   - 데이터 표시 없음
   - 시각적 요소 부족
   - 단순한 텍스트 중심

2. **스타일링 일관성**
   - 커스텀 CSS 없음
   - 색상 시스템 부재
   - 브랜드 아이덴티티 부족

3. **반응형 디자인**
   - 모바일 최적화 없음
   - 고정된 컬럼 수 사용

4. **인터랙티브 요소**
   - 대부분 정적 콘텐츠
   - 애니메이션/전환 효과 없음

---

## 7. 개선 제안

### 7.1 즉시 개선 가능 항목

#### 7.1.1 메인 페이지 개선
- **KPI 대시보드 추가**: 통합 대시보드 데이터를 메인에 표시
- **기능 카드 네비게이션**: 각 기능을 카드 형태로 표시
- **최근 활동 섹션**: 최근 주간보고서 요약

#### 7.1.2 시각적 개선
- **커스텀 CSS 주입**: Tailwind CSS 또는 커스텀 스타일
- **색상 테마**: 브랜드 색상 적용
- **그라데이션 배경**: 헤더/카드에 적용

#### 7.1.3 레이아웃 개선
- **반응형 그리드**: 화면 크기에 따른 컬럼 수 조정
- **카드 기반 디자인**: 정보를 카드 형태로 그룹화
- **여백 및 간격**: 더 나은 시각적 계층 구조

### 7.2 중장기 개선 항목

1. **디자인 시스템 구축**
   - 색상 팔레트 정의
   - 타이포그래피 가이드
   - 컴포넌트 라이브러리

2. **사용자 경험 개선**
   - 로딩 상태 표시
   - 성공/실패 피드백 강화
   - 키보드 단축키 지원

3. **접근성 개선**
   - ARIA 레이블 추가
   - 키보드 네비게이션
   - 색상 대비 개선

---

## 8. 기술적 세부사항

### 8.1 페이지 설정
```python
st.set_page_config(
    page_title="...",
    page_icon="...",
    layout="wide",  # 모든 페이지 동일
    initial_sidebar_state="expanded"  # 메인만 설정
)
```

### 8.2 데이터 로딩 패턴
```python
data = load_data("filename.json")
if not data:
    st.error("❌ 데이터를 불러올 수 없습니다.")
    st.stop()
```

### 8.3 레이아웃 패턴
```python
# 2열 레이아웃
col1, col2 = st.columns(2)
with col1:
    # 콘텐츠
with col2:
    # 콘텐츠

# 3열 레이아웃
col1, col2, col3 = st.columns(3)
```

---

## 9. 결론

### 현재 상태 요약
- ✅ **기능적 완성도**: 높음 (모든 기능 구현 완료)
- ⚠️ **시각적 완성도**: 중간 (기본 Streamlit 스타일)
- ⚠️ **사용자 경험**: 중간 (기능은 동작하나 시각적 매력 부족)
- ✅ **코드 일관성**: 높음 (패턴이 일관적)

### 우선순위별 개선 권장사항

1. **높음**: 메인 페이지 개선 (KPI, 기능 카드)
2. **중간**: 커스텀 CSS/스타일링 추가
3. **낮음**: 애니메이션 및 고급 인터랙션

---

**보고서 작성자**: AI Assistant  
**다음 검토 예정일**: 개선 작업 완료 후

